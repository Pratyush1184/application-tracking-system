(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(t,e,a){},26:function(t,e,a){},35:function(t,e,a){},40:function(t,e,a){"use strict";a.r(e);var i=a(0),s=a.n(i),c=a(12),n=a.n(c),l=(a(24),a(6)),o=a(7),r=a(9),d=a(8),p=(a(25),a(26),a(27),a(31),a(32),a(33),a(34),a(35),a(1)),h=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(p.jsx)("div",{className:"left-nav",children:Object(p.jsxs)("div",{className:"left-nav-item",children:[Object(p.jsx)("div",{onClick:function(){return t.props.switchPage("ApplicationPage")},children:Object(p.jsx)("i",{className:"fas fa-columns left-nav-icon"})}),Object(p.jsx)("div",{onClick:function(){return t.props.switchPage("SearchPage")},children:Object(p.jsx)("i",{className:"fas fa-search left-nav-icon"})})]})})}}]),a}(i.Component),u=a(13),j=[{class:"1",state:"Wish list",wordOfDate:"Apply By"},{class:"2",state:"Waiting for referral",wordOfDate:"Referral before "},{class:"3",state:"Applied",wordOfDate:"Applied Date"},{class:"4",state:"Rejected",wordOfDate:"Applied Date"}],b=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(t){var i;return Object(l.a)(this,a),(i=e.call(this,t)).state={showEditModal:t.showEditModal},i}return Object(o.a)(a,[{key:"stopPropagation",value:function(t){t.stopPropagation()}},{key:"render",value:function(){var t=this,e=j.find((function(e){return e.class===t.props.application.status}));return Object(p.jsx)("div",{className:"card card-col",onClick:this.state.showEditModal,children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("div",{className:"card-action",children:Object(p.jsx)("h6",{className:"card-title",onClick:this.stopPropagation,children:this.props.application.jobTitle})}),Object(p.jsxs)("p",{className:"small-content-text",children:[this.props.application.companyName,Object(p.jsx)("br",{}),e.wordOfDate,": ",this.props.application.date]},this.props.application.companyName)]})},this.state.id+"_card")}}]),a}(i.Component),m=a(14),O=a(43),v=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(t){var i;return Object(l.a)(this,a),(i=e.call(this,t)).state={closeEditModal:t.closeEditModal,deleteApplication:t.deleteApplication,submitFunc:t.submitFunc,id:t.application.id,jobTitle:t.application.jobTitle,companyName:t.application.companyName,date:t.application.date,class:t.application.status},i}return Object(o.a)(a,[{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"submitAction",value:function(){console.log("hit!"),this.state.closeEditModal();var t={id:this.state.id,companyName:this.state.companyName,jobTitle:this.state.jobTitle,date:this.state.date,status:this.state.class};console.log(t),this.state.submitFunc(t)}},{key:"deleteAction",value:function(){this.state.closeEditModal();var t={id:this.state.id,companyName:this.state.companyName,jobTitle:this.state.jobTitle,date:this.state.date,status:this.state.class};this.state.deleteApplication(t)}},{key:"render",value:function(){var t=null;return t="update"===this.props.mode?Object(p.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.submitAction.bind(this),children:"Update"}):Object(p.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.submitAction.bind(this),children:"Create"}),this.props.application?Object(p.jsx)("div",{children:Object(p.jsxs)(O.a,{show:this.props.show,onHide:this.state.closeEditModal,children:[Object(p.jsx)(O.a.Header,{closeButton:!0,children:Object(p.jsx)(O.a.Title,{children:this.props.application.companyName})}),Object(p.jsxs)(O.a.Body,{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"companyName",className:"col-form-label",children:"Company Name"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"companyName",value:this.state.companyName,onChange:this.handleChange.bind(this)})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"job_title",className:"col-form-label",children:"Job Title"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange.bind(this)})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"date",className:"col-form-label",children:"Date"}),Object(p.jsx)("input",{type:"date",className:"form-control",id:"date",value:this.state.date,onChange:this.handleChange.bind(this)})]}),Object(p.jsxs)("div",{className:"input-group mb-3",children:[Object(p.jsx)("div",{className:"input-group-prepend",children:Object(p.jsx)("label",{className:"input-group-text",htmlFor:"class",children:"Application Type"})}),Object(p.jsxs)("select",{className:"custom-select",id:"class",value:this.state.class,onChange:this.handleChange.bind(this),children:[Object(p.jsx)("option",{children:"Choose..."}),Object(p.jsx)("option",{value:"1",children:"Wish list"}),Object(p.jsx)("option",{value:"2",children:"Waiting Referral"}),Object(p.jsx)("option",{value:"3",children:"Applied"}),Object(p.jsx)("option",{value:"4",children:"Rejected"})]})]})]}),Object(p.jsxs)(O.a.Footer,{children:[Object(p.jsx)("button",{type:"button",className:"btn btn-danger mr-auto",onClick:this.deleteAction.bind(this),children:"Delete"}),Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.state.closeEditModal,children:"Close"}),t]})]})}):Object(p.jsx)("div",{})}}]),a}(i.Component),f=a(11),x=a.n(f),y=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(t){var i;return Object(l.a)(this,a),(i=e.call(this,t)).state={applications:[],card_titles:[],card_class:[],showModal:!1},i.getData=i.getData.bind(Object(u.a)(i)),i.groupApplication=i.groupApplication.bind(Object(u.a)(i)),i.createCardTitle=i.createCardTitle.bind(Object(u.a)(i)),i.createCardClass=i.createCardClass.bind(Object(u.a)(i)),i}return Object(o.a)(a,[{key:"getData",value:function(){return x.a.ajax({url:"http://localhost:5000/application",method:"GET"})}},{key:"componentDidMount",value:function(){var t=this;this.getData().done((function(e){e=JSON.parse(e);var a=t.groupApplication(e),i=t.createCardTitle(a),s=t.createCardClass(a);t.setState({applications:e,card_titles:i,card_class:s})}))}},{key:"updateCardBoard",value:function(t){var e=this.state.applications;null==t.id?(console.log("new application"),x.a.ajax({url:"http://localhost:5000/application",method:"POST",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){e.push(t.responseJSON)}})):(console.log("updating id="+t.id),x.a.ajax({url:"http://localhost:5000/application",method:"PUT",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){var a=t.responseJSON,i=e.findIndex((function(t){return t.id===a.id}));e[i]=a}}));var a=this.groupApplication(e),i=this.createCardTitle(a),s=this.createCardClass(a);this.setState({applications:e,card_titles:i,card_class:s,showModal:!1,application:null})}},{key:"deleteApplication",value:function(t){var e=this.state.applications;console.log("deleting id="+t.id),x.a.ajax({url:"http://localhost:5000/application",method:"DELETE",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){var a=e.indexOf(t.responseJSON);e.splice(a,1)}});var a=this.groupApplication(e),i=this.createCardTitle(a),s=this.createCardClass(a);this.setState({applications:e,card_titles:i,card_class:s,showModal:!1,application:null})}},{key:"showEditModal",value:function(t,e){var a=e;this.setState({showModal:!0,application:t,modalMode:a})}},{key:"closeEditModal",value:function(){this.setState({showModal:!1,application:null})}},{key:"createCardClass",value:function(t){var e=this;return t.reduce((function(t,a){var i=Object(p.jsxs)("div",{className:"col",id:a.title+"_class",children:[a.applications.reduce((function(t,a){var i=Object(p.jsx)(b,{application:a,showEditModal:e.showEditModal.bind(e,a,"update")},a.id);return t.push(i),t}),[]),Object(p.jsx)("div",{className:"card card-col",children:Object(p.jsx)("div",{className:"card-body new-col",onClick:e.showEditModal.bind(e,{class:a.class},"create"),children:Object(p.jsx)("i",{className:"fas fa-plus text-center"})})})]},a.title+"_class");return t.push(i),t}),[])}},{key:"createCardTitle",value:function(t){return t.reduce((function(t,e){var a=Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("div",{className:"card card-col",children:Object(p.jsx)("div",{className:"card-body noPadding",children:Object(p.jsx)("div",{type:"text",className:"text-center title-col form-control-lg",children:e.title})})})},e.title+"_title");return t.push(a),t}),[])}},{key:"groupApplication",value:function(t){var e=[{title:"Wish list",applications:[],class:"1"},{title:"Waiting for referral",applications:[],class:"2"},{title:"Applied",applications:[],class:"3"},{title:"Rejected",applications:[],class:"4"}];return null===t||void 0===t||t.forEach((function(t){var a=e.find((function(e){return e.class===t.status}));null===a||void 0===a||a.applications.push(t)})),e}},{key:"render",value:function(){var t=null;return this.state.application&&(t=Object(p.jsx)(v,{show:this.state.showModal,submitFunc:this.updateCardBoard.bind(this),mode:this.state.modalMode,application:this.state.application,closeEditModal:this.closeEditModal.bind(this),deleteApplication:this.deleteApplication.bind(this)})),Object(p.jsxs)("span",{id:"tab",children:[Object(p.jsx)("div",{className:"row",children:this.state.card_titles}),Object(p.jsx)("div",{className:"row",children:this.state.card_class}),t]})}}]),a}(i.Component),N=[{label:"Company Name",id:"companyName"},{label:"Job tilte",id:"jobTitle"},{label:"Date",id:"date"},{label:"",id:"func"}],g=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(t){var i;return Object(l.a)(this,a),(i=e.call(this,t)).state={searchText:"",rows:[],addedList:[]},i}return Object(o.a)(a,[{key:"search",value:function(){var t=this;this.state.searchText?x.a.ajax({url:"http://localhost:5000/search",method:"get",data:{keywords:this.state.searchText},contentType:"application/json",success:function(e){var a=e.map((function(t,e){return{id:e,jobTitle:t.jobTitle,companyName:t.companyName,location:t.location}}));t.setState({rows:a})}}):alert("Search bar cannot be empty!!")}},{key:"deleteTheApplication",value:function(t){var e=this.state.rows.filter((function(e){return e.id!==t})),a=this.state.addedList.filter((function(e){return e.id!==t}));this.setState({rows:e,addedList:a})}},{key:"addToWaitlist",value:function(t){var e=this.state.addedList;e.push(t.id),this.getNewId().done((function(e){var a={id:e,jobTitle:t.jobTitle,companyName:t.companyName,date:t.date,class:"1"};x.a.ajax({url:"http://localhost:5000/application",method:"POST",data:JSON.stringify({application:a}),contentType:"application/json",success:function(t){alert(t)}})})),this.setState({addedList:e})}},{key:"getNewId",value:function(){return x.a.ajax({async:!1,url:"http://localhost:5000/getNewId",method:"GET"})}},{key:"removeFromWaitlist",value:function(t){var e=this.state.addedList.filter((function(e){return e!==t.id}));this.setState({addedList:e})}},{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"render",value:function(){var t=this,e=this.state.rows;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6 input-group mb-3",children:Object(p.jsx)("input",{type:"text",id:"searchText",className:"form-control",placeholder:"Keyword","aria-label":"Username","aria-describedby":"basic-addon1",value:this.state.searchText,onChange:this.handleChange.bind(this)})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.search.bind(this),children:"Search"})})]})}),Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:N.map((function(t){return Object(p.jsx)("th",{children:t.label},t.id+"_th")}))})}),Object(p.jsx)("tbody",{children:e.map((function(e){return Object(p.jsx)("tr",{children:N.map((function(a){var i=e[a.id];if("func"!==a.id)return Object(p.jsx)("td",{children:i},a.id);var s=t.state.addedList.includes(e.id)?Object(p.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:t.removeFromWaitlist.bind(t,e),children:" Added "}):Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t.addToWaitlist.bind(t,e),children:" Add "});return Object(p.jsx)("td",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4",children:s}),"\xa0\xa0",Object(p.jsx)("div",{className:"col-md-2",children:Object(p.jsx)("button",{type:"button",style:{backgroundColor:"red"},className:"btn btn-secondary",onClick:t.deleteTheApplication.bind(t,e.id),children:" Delete "})})]})})},e.id+"_func")}))},e.id)}))})]})]})}}]),a}(i.Component),C=function(t){Object(r.a)(a,t);var e=Object(d.a)(a);function a(t){var i;Object(l.a)(this,a),i=e.call(this,t);var s={SearchPage:Object(p.jsx)(g,{}),ApplicationPage:Object(p.jsx)(y,{})};return i.state={currentPage:Object(p.jsx)(y,{}),mapRouter:s},i}return Object(o.a)(a,[{key:"switchPage",value:function(t){this.setState({currentPage:this.state.mapRouter[t]})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"main-page",children:[Object(p.jsx)(h,{switchPage:this.switchPage.bind(this)}),Object(p.jsx)("div",{className:"main",children:Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h1",{className:"text-center",children:"My applications"}),Object(p.jsx)("div",{className:""}),this.state.currentPage]})})]})}}]),a}(s.a.Component),T=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(e){var a=e.getCLS,i=e.getFID,s=e.getFCP,c=e.getLCP,n=e.getTTFB;a(t),i(t),s(t),c(t),n(t)}))};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),T()}},[[40,1,2]]]);
//# sourceMappingURL=main.2d5ef802.chunk.js.map